(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const y={context:void 0,registry:void 0};function de(e){y.context=e}const Ht=(e,t)=>e===t,W=Symbol("solid-proxy"),Ge=Symbol("solid-track"),ke={equals:Ht};let wt=xt;const Z=1,Oe=2,pt={owned:null,cleanups:null,context:null,owner:null},Ke={};var C=null;let ie=null,Wt=null,S=null,T=null,H=null,Re=0;function pe(e,t){const n=S,r=C,i=e.length===0,s=t===void 0?r:t,o=i?pt:{owned:null,cleanups:null,context:s?s.context:null,owner:s},l=i?e:()=>e(()=>D(()=>Be(o)));C=o,S=null;try{return X(l,!0)}finally{S=n,C=r}}function E(e,t){t=t?Object.assign({},ke,t):ke;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),$t(n,i));return[vt.bind(n),r]}function st(e,t,n){const r=De(e,t,!0,Z);ae(r)}function N(e,t,n){const r=De(e,t,!1,Z);ae(r)}function qt(e,t,n){wt=Qt;const r=De(e,t,!1,Z),i=oe&&K(oe);i&&(r.suspense=i),r.user=!0,H?H.push(r):ae(r)}function R(e,t,n){n=n?Object.assign({},ke,n):ke;const r=De(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,ae(r),vt.bind(r)}function Kt(e){return e&&typeof e=="object"&&"then"in e}function ze(e,t,n){let r,i,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,i=e,s=t||{}):(r=e,i=t,s={});let o=null,l=Ke,c=null,f=!1,a=!1,u="initialValue"in s,g=typeof r=="function"&&R(r);const b=new Set,[h,w]=(s.storage||E)(s.initialValue),[m,v]=E(void 0),[x,k]=E(void 0,{equals:!1}),[I,B]=E(u?"ready":"unresolved");if(y.context){c=`${y.context.id}${y.context.count++}`;let L;s.ssrLoadFrom==="initial"?l=s.initialValue:y.load&&(L=y.load(c))&&(l=L)}function G(L,O,P,ee){return o===L&&(o=null,ee!==void 0&&(u=!0),(L===l||O===l)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(ee,{value:O})),l=Ke,Vt(O,P)),O}function Vt(L,O){X(()=>{O===void 0&&w(()=>L),B(O!==void 0?"errored":u?"ready":"unresolved"),v(O);for(const P of b.keys())P.decrement();b.clear()},!1)}function We(){const L=oe&&K(oe),O=h(),P=m();if(P!==void 0&&!o)throw P;return S&&!S.user&&L&&st(()=>{x(),o&&(L.resolved&&ie&&f?ie.promises.add(o):b.has(L)||(L.increment(),b.add(L)))}),O}function qe(L=!0){if(L!==!1&&a)return;a=!1;const O=g?g():r;if(f=ie,O==null||O===!1){G(o,D(h));return}const P=l!==Ke?l:D(()=>i(O,{value:h(),refetching:L}));return Kt(P)?(o=P,"value"in P?(P.status==="success"?G(o,P.value,void 0,O):G(o,void 0,void 0,O),P):(a=!0,queueMicrotask(()=>a=!1),X(()=>{B(u?"refreshing":"pending"),k()},!1),P.then(ee=>G(P,ee,void 0,O),ee=>G(P,void 0,At(ee),O)))):(G(o,P,void 0,O),P)}return Object.defineProperties(We,{state:{get:()=>I()},error:{get:()=>m()},loading:{get(){const L=I();return L==="pending"||L==="refreshing"}},latest:{get(){if(!u)return We();const L=m();if(L&&!o)throw L;return h()}}}),g?st(()=>qe(!1)):qe(!1),[We,{refetch:qe,mutate:w}]}function Zt(e){return X(e,!1)}function D(e){if(S===null)return e();const t=S;S=null;try{return e()}finally{S=t}}function yt(e){return C===null||(C.cleanups===null?C.cleanups=[e]:C.cleanups.push(e)),e}function Ye(){return S}function Gt(){return C}function zt(e){H.push.apply(H,e),e.length=0}function nt(e,t){const n=Symbol("context");return{id:n,Provider:en(n),defaultValue:e}}function K(e){return C&&C.context&&C.context[e.id]!==void 0?C.context[e.id]:e.defaultValue}function mt(e){const t=R(e),n=R(()=>Xe(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let oe;function Yt(){return oe||(oe=nt())}function vt(){if(this.sources&&this.state)if(this.state===Z)ae(this);else{const e=T;T=null,X(()=>Ee(this),!1),T=e}if(S){const e=this.observers?this.observers.length:0;S.sources?(S.sources.push(this),S.sourceSlots.push(e)):(S.sources=[this],S.sourceSlots=[e]),this.observers?(this.observers.push(S),this.observerSlots.push(S.sources.length-1)):(this.observers=[S],this.observerSlots=[S.sources.length-1])}return this.value}function $t(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&X(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],o=ie&&ie.running;o&&ie.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?T.push(s):H.push(s),s.observers&&Ct(s)),o||(s.state=Z)}if(T.length>1e6)throw T=[],new Error},!1)),t}function ae(e){if(!e.fn)return;Be(e);const t=Re;Xt(e,e.value,t)}function Xt(e,t,n){let r;const i=C,s=S;S=C=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=Z,e.owned&&e.owned.forEach(Be),e.owned=null),e.updatedAt=n+1,St(o)}finally{S=s,C=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?$t(e,r):e.value=r,e.updatedAt=n)}function De(e,t,n,r=Z,i){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:C?C.context:null,pure:n};return C===null||C!==pt&&(C.owned?C.owned.push(s):C.owned=[s]),s}function Pe(e){if(e.state===0)return;if(e.state===Oe)return Ee(e);if(e.suspense&&D(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Re);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Z)ae(e);else if(e.state===Oe){const r=T;T=null,X(()=>Ee(e,t[0]),!1),T=r}}function X(e,t){if(T)return e();let n=!1;t||(T=[]),H?n=!0:H=[],Re++;try{const r=e();return Jt(n),r}catch(r){n||(H=null),T=null,St(r)}}function Jt(e){if(T&&(xt(T),T=null),e)return;const t=H;H=null,t.length&&X(()=>wt(t),!1)}function xt(e){for(let t=0;t<e.length;t++)Pe(e[t])}function Qt(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Pe(r)}if(y.context){if(y.count){y.effects||(y.effects=[]),y.effects.push(...e.slice(0,n));return}else y.effects&&(e=[...y.effects,...e],n+=y.effects.length,delete y.effects);de()}for(t=0;t<n;t++)Pe(e[t])}function Ee(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===Z?r!==t&&(!r.updatedAt||r.updatedAt<Re)&&Pe(r):i===Oe&&Ee(r,t)}}}function Ct(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Oe,n.pure?T.push(n):H.push(n),n.observers&&Ct(n))}}function Be(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Be(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function At(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function St(e,t=C){throw At(e)}function Xe(e){if(typeof e=="function"&&!e.length)return Xe(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Xe(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function en(e,t){return function(r){let i;return N(()=>i=D(()=>(C.context={...C.context,[e]:r.value},mt(()=>r.children))),void 0),i}}const tn=Symbol("fallback");function ot(e){for(let t=0;t<e.length;t++)e[t]()}function nn(e,t,n={}){let r=[],i=[],s=[],o=0,l=t.length>1?[]:null;return yt(()=>ot(s)),()=>{let c=e()||[],f,a;return c[Ge],D(()=>{let g=c.length,b,h,w,m,v,x,k,I,B;if(g===0)o!==0&&(ot(s),s=[],r=[],i=[],o=0,l&&(l=[])),n.fallback&&(r=[tn],i[0]=pe(G=>(s[0]=G,n.fallback())),o=1);else if(o===0){for(i=new Array(g),a=0;a<g;a++)r[a]=c[a],i[a]=pe(u);o=g}else{for(w=new Array(g),m=new Array(g),l&&(v=new Array(g)),x=0,k=Math.min(o,g);x<k&&r[x]===c[x];x++);for(k=o-1,I=g-1;k>=x&&I>=x&&r[k]===c[I];k--,I--)w[I]=i[k],m[I]=s[k],l&&(v[I]=l[k]);for(b=new Map,h=new Array(I+1),a=I;a>=x;a--)B=c[a],f=b.get(B),h[a]=f===void 0?-1:f,b.set(B,a);for(f=x;f<=k;f++)B=r[f],a=b.get(B),a!==void 0&&a!==-1?(w[a]=i[f],m[a]=s[f],l&&(v[a]=l[f]),a=h[a],b.set(B,a)):s[f]();for(a=x;a<g;a++)a in w?(i[a]=w[a],s[a]=m[a],l&&(l[a]=v[a],l[a](a))):i[a]=pe(u);i=i.slice(0,o=g),r=c.slice(0)}return i});function u(g){if(s[a]=g,l){const[b,h]=E(a);return l[a]=h,t(c[a],b)}return t(c[a])}}}function d(e,t){return D(()=>e(t||{}))}function Ce(){return!0}const Je={get(e,t,n){return t===W?n:e.get(t)},has(e,t){return t===W?!0:e.has(t)},set:Ce,deleteProperty:Ce,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Ce,deleteProperty:Ce}},ownKeys(e){return e.keys()}};function Ze(e){return(e=typeof e=="function"?e():e)?e:{}}function rn(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function rt(...e){let t=!1;for(let o=0;o<e.length;o++){const l=e[o];t=t||!!l&&W in l,e[o]=typeof l=="function"?(t=!0,R(l)):l}if(t)return new Proxy({get(o){for(let l=e.length-1;l>=0;l--){const c=Ze(e[l])[o];if(c!==void 0)return c}},has(o){for(let l=e.length-1;l>=0;l--)if(o in Ze(e[l]))return!0;return!1},keys(){const o=[];for(let l=0;l<e.length;l++)o.push(...Object.keys(Ze(e[l])));return[...new Set(o)]}},Je);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const l=e[o];if(!l)continue;const c=Object.getOwnPropertyNames(l);for(let f=c.length-1;f>=0;f--){const a=c[f];if(a==="__proto__"||a==="constructor")continue;const u=Object.getOwnPropertyDescriptor(l,a);if(!r[a])r[a]=u.get?{enumerable:!0,configurable:!0,get:rn.bind(n[a]=[u.get.bind(l)])}:u.value!==void 0?u:void 0;else{const g=n[a];g&&(u.get?g.push(u.get.bind(l)):u.value!==void 0&&g.push(()=>u.value))}}}const i={},s=Object.keys(r);for(let o=s.length-1;o>=0;o--){const l=s[o],c=r[l];c&&c.get?Object.defineProperty(i,l,c):i[l]=c?c.value:void 0}return i}function ue(e,...t){if(W in e){const i=new Set(t.length>1?t.flat():t[0]),s=t.map(o=>new Proxy({get(l){return o.includes(l)?e[l]:void 0},has(l){return o.includes(l)&&l in e},keys(){return o.filter(l=>l in e)}},Je));return s.push(new Proxy({get(o){return i.has(o)?void 0:e[o]},has(o){return i.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!i.has(o))}},Je)),s}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,i),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let l=!1,c=0;for(const f of t)f.includes(i)&&(l=!0,o?r[c][i]=s.value:Object.defineProperty(r[c],i,s)),++c;l||(o?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}const Lt=e=>`Stale read from <${e}>.`;function je(e){const t="fallback"in e&&{fallback:()=>e.fallback};return R(nn(()=>e.each,e.children,t||void 0))}function le(e){const t=e.keyed,n=R(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return R(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?D(()=>i(t?r:()=>{if(!D(n))throw Lt("Show");return e.when})):i}return e.fallback},void 0,void 0)}function kt(e){let t=!1;const n=(s,o)=>(t?s[1]===o[1]:!s[1]==!o[1])&&s[2]===o[2],r=mt(()=>e.children),i=R(()=>{let s=r();Array.isArray(s)||(s=[s]);for(let o=0;o<s.length;o++){const l=s[o].when;if(l)return t=!!s[o].keyed,[o,l,s[o]]}return[-1]},void 0,{equals:n});return R(()=>{const[s,o,l]=i();if(s<0)return e.fallback;const c=l.children;return typeof c=="function"&&c.length>0?D(()=>c(t?o:()=>{if(D(i)[0]!==s)throw Lt("Match");return l.when})):c},void 0,void 0)}function ne(e){return e}const sn=nt();function Ot(e){let t=0,n,r,i,s,o;const[l,c]=E(!1),f=Yt(),a={increment:()=>{++t===1&&c(!0)},decrement:()=>{--t===0&&c(!1)},inFallback:l,effects:[],resolved:!1},u=Gt();if(y.context&&y.load){const h=y.context.id+y.context.count;let w=y.load(h);if(w&&(typeof w!="object"||w.status!=="success"?i=w:y.gather(h)),i&&i!=="$$f"){const[m,v]=E(void 0,{equals:!1});s=m,i.then(()=>{if(y.done)return v();y.gather(h),de(r),v(),de()},x=>{o=x,v()})}}const g=K(sn);g&&(n=g.register(a.inFallback));let b;return yt(()=>b&&b()),d(f.Provider,{value:a,get children(){return R(()=>{if(o)throw o;if(r=y.context,s)return s(),s=void 0;r&&i==="$$f"&&de();const h=R(()=>e.children);return R(w=>{const m=a.inFallback(),{showContent:v=!0,showFallback:x=!0}=n?n():{};if((!m||i&&i!=="$$f")&&v)return a.resolved=!0,b&&b(),b=r=i=void 0,zt(a.effects),h();if(x)return b?w:pe(k=>(b=k,r&&(de({id:r.id+"f",count:0}),r=void 0),e.fallback),u)})})}})}const on=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],ln=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...on]),cn=new Set(["innerHTML","textContent","innerText","children"]),an=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),un=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function fn(e,t){const n=un[e];return typeof n=="object"?n[t]?n.$:void 0:n}const dn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),gn=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),hn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function _n(e,t,n){let r=n.length,i=t.length,s=r,o=0,l=0,c=t[i-1].nextSibling,f=null;for(;o<i||l<s;){if(t[o]===n[l]){o++,l++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===o){const a=s<r?l?n[l-1].nextSibling:n[s-l]:c;for(;l<s;)e.insertBefore(n[l++],a)}else if(s===l)for(;o<i;)(!f||!f.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[s-1]&&n[l]===t[i-1]){const a=t[--i].nextSibling;e.insertBefore(n[l++],t[o++].nextSibling),e.insertBefore(n[--s],a),t[i]=n[s]}else{if(!f){f=new Map;let u=l;for(;u<s;)f.set(n[u],u++)}const a=f.get(t[o]);if(a!=null)if(l<a&&a<s){let u=o,g=1,b;for(;++u<i&&u<s&&!((b=f.get(t[u]))==null||b!==a+g);)g++;if(g>a-l){const h=t[o];for(;l<a;)e.insertBefore(n[l++],h)}else e.replaceChild(n[l++],t[o++])}else o++;else t[o++].remove()}}}const lt="_$DX_DELEGATE";function bn(e,t,n,r={}){let i;return pe(s=>{i=s,t===document?e():$(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function _(e,t,n){let r;const i=()=>{const o=document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:o.content.firstChild},s=t?()=>D(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return s.cloneNode=s,s}function Fe(e,t=window.document){const n=t[lt]||(t[lt]=new Set);for(let r=0,i=e.length;r<i;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,An))}}function V(e,t,n){y.context&&e.isConnected||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function wn(e,t,n,r){y.context&&e.isConnected||(r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r))}function pn(e,t){y.context&&e.isConnected||(t==null?e.removeAttribute("class"):e.className=t)}function yn(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=s=>i.call(e,n[1],s))}else e.addEventListener(t,n)}function mn(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const l=i[s];!l||l==="undefined"||t[l]||(ct(e,l,!1),delete n[l])}for(s=0,o=r.length;s<o;s++){const l=r[s],c=!!t[l];!l||l==="undefined"||n[l]===c||!c||(ct(e,l,!0),n[l]=c)}return n}function vn(e,t,n){if(!t)return n?V(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function Ve(e,t={},n,r){const i={};return r||N(()=>i.children=me(e,t.children,i.children)),N(()=>typeof t.ref=="function"?ce(t.ref,e):t.ref=e),N(()=>$n(e,t,n,!0,i,!0)),i}function ce(e,t,n){return D(()=>e(t,n))}function $(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return me(e,t,r,n);N(i=>me(e,t(),i,n),r)}function $n(e,t,n,r,i={},s=!1){t||(t={});for(const o in i)if(!(o in t)){if(o==="children")continue;i[o]=at(e,o,null,i[o],n,s)}for(const o in t){if(o==="children")continue;const l=t[o];i[o]=at(e,o,l,i[o],n,s)}}function xn(e){let t,n;return!y.context||!(t=y.registry.get(n=Sn()))?e():(y.completed&&y.completed.add(t),y.registry.delete(n),t)}function Cn(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function ct(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],n)}function at(e,t,n,r,i,s){let o,l,c,f,a;if(t==="style")return vn(e,n,r);if(t==="classList")return mn(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const u=t.slice(3);r&&e.removeEventListener(u,r),n&&e.addEventListener(u,n)}else if(t.slice(0,10)==="oncapture:"){const u=t.slice(10);r&&e.removeEventListener(u,r,!0),n&&e.addEventListener(u,n,!0)}else if(t.slice(0,2)==="on"){const u=t.slice(2).toLowerCase(),g=dn.has(u);if(!g&&r){const b=Array.isArray(r)?r[0]:r;e.removeEventListener(u,b)}(g||n)&&(yn(e,u,n,g),g&&Fe([u]))}else if(t.slice(0,5)==="attr:")V(e,t.slice(5),n);else if((a=t.slice(0,5)==="prop:")||(c=cn.has(t))||!i&&((f=fn(t,e.tagName))||(l=ln.has(t)))||(o=e.nodeName.includes("-"))){if(a)t=t.slice(5),l=!0;else if(y.context&&e.isConnected)return n;t==="class"||t==="className"?pn(e,n):o&&!l&&!c?e[Cn(t)]=n:e[f||t]=n}else{const u=i&&t.indexOf(":")>-1&&hn[t.split(":")[0]];u?wn(e,u,t,n):V(e,an[t]||t,n)}return n}function An(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),y.registry&&!y.done&&(y.done=_$HY.done=!0);n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function me(e,t,n,r,i){const s=!!y.context&&e.isConnected;if(s){!n&&(n=[...e.childNodes]);let c=[];for(let f=0;f<n.length;f++){const a=n[f];a.nodeType===8&&a.data.slice(0,2)==="!$"?a.remove():c.push(a)}n=c}for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,l=r!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(s)return n;if(o==="number"&&(t=t.toString()),l){let c=n[0];c&&c.nodeType===3?c.data!==t&&(c.data=t):c=document.createTextNode(t),n=te(e,n,r,c)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(s)return n;n=te(e,n,r)}else{if(o==="function")return N(()=>{let c=t();for(;typeof c=="function";)c=c();n=me(e,c,n,r)}),()=>n;if(Array.isArray(t)){const c=[],f=n&&Array.isArray(n);if(Qe(c,t,n,i))return N(()=>n=me(e,c,n,r,!0)),()=>n;if(s){if(!c.length)return n;if(r===void 0)return[...e.childNodes];let a=c[0],u=[a];for(;(a=a.nextSibling)!==r;)u.push(a);return n=u}if(c.length===0){if(n=te(e,n,r),l)return n}else f?n.length===0?ut(e,c,r):_n(e,n,c):(n&&te(e),ut(e,c));n=c}else if(t.nodeType){if(s&&t.parentNode)return n=l?[t]:t;if(Array.isArray(n)){if(l)return n=te(e,n,r,t);te(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Qe(e,t,n,r){let i=!1;for(let s=0,o=t.length;s<o;s++){let l=t[s],c=n&&n[e.length],f;if(!(l==null||l===!0||l===!1))if((f=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))i=Qe(e,l,c)||i;else if(f==="function")if(r){for(;typeof l=="function";)l=l();i=Qe(e,Array.isArray(l)?l:[l],Array.isArray(c)?c:[c])||i}else e.push(l),i=!0;else{const a=String(l);c&&c.nodeType===3&&c.data===a?e.push(c):e.push(document.createTextNode(a))}}return i}function ut(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function te(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let s=!1;for(let o=t.length-1;o>=0;o--){const l=t[o];if(i!==l){const c=l.parentNode===e;!s&&!o?c?e.replaceChild(i,l):e.insertBefore(i,n):c&&l.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}function Sn(){const e=y.context;return`${e.id}${e.count++}`}const Ln="http://www.w3.org/2000/svg";function kn(e,t=!1){return t?document.createElementNS(Ln,e):document.createElement(e)}function Pt(e){const[t,n]=ue(e,["component"]),r=R(()=>t.component);return R(()=>{const i=r();switch(typeof i){case"function":return D(()=>i(n));case"string":const s=gn.has(i),o=y.context?xn():kn(i,s);return Ve(o,n,s),o}})}var On=_('<div class="progress box">'),Pn=_("<div class=progress-num><span>"),En=_("<div class=progress-label><h1></h1><div class=progress-rule>"),jn=_("<div class=progress-rule>");function Tn(e){const[t,n]=ue(e,["stages","current"]);return(()=>{var r=On();return $(r,d(je,{get each(){return t.stages},children:(i,s)=>[(()=>{var o=Pn(),l=o.firstChild;return $(l,()=>s()+1),N(c=>{var f=s()<t.current,a=s()==t.current;return f!==c.e&&o.classList.toggle("complete",c.e=f),a!==c.t&&o.classList.toggle("active",c.t=a),c},{e:void 0,t:void 0}),o})(),d(le,{get when(){return s()==t.current},get fallback(){return jn()},get children(){var o=En(),l=o.firstChild;return $(l,i),o}})]})),r})()}let p;const M=new Array(128).fill(void 0);M.push(void 0,null,!0,!1);let ye=M.length;function j(e){ye===M.length&&M.push(M.length+1);const t=ye;return ye=M[t],M[t]=e,t}function A(e){return M[e]}function Mn(e){e<132||(M[e]=ye,ye=e)}function re(e){const t=A(e);return Mn(e),t}const Et=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Et.decode();let ge=null;function Se(){return(ge===null||ge.byteLength===0)&&(ge=new Uint8Array(p.memory.buffer)),ge}function Ae(e,t){return e=e>>>0,Et.decode(Se().subarray(e,e+t))}function ft(e){return e==null}let he=null;function Nn(){return(he===null||he.byteLength===0)&&(he=new Float64Array(p.memory.buffer)),he}let _e=null;function U(){return(_e===null||_e.byteLength===0)&&(_e=new Int32Array(p.memory.buffer)),_e}let be=null;function In(){return(be===null||be.byteLength===0)&&(be=new Uint32Array(p.memory.buffer)),be}function Un(e,t){e=e>>>0;const r=In().subarray(e/4,e/4+t),i=[];for(let s=0;s<r.length;s++)i.push(re(r[s]));return i}function Rn(){p.start()}let z=128;function fe(e){if(z==1)throw new Error("out of js stack");return M[--z]=e,z}let et=0;const Le=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Dn=typeof Le.encodeInto=="function"?function(e,t){return Le.encodeInto(e,t)}:function(e,t){const n=Le.encode(e);return t.set(n),{read:e.length,written:n.length}};function Bn(e,t,n){if(n===void 0){const l=Le.encode(e),c=t(l.length,1)>>>0;return Se().subarray(c,c+l.length).set(l),et=l.length,c}let r=e.length,i=t(r,1)>>>0;const s=Se();let o=0;for(;o<r;o++){const l=e.charCodeAt(o);if(l>127)break;s[i+o]=l}if(o!==r){o!==0&&(e=e.slice(o)),i=n(i,r,r=o+e.length*3,1)>>>0;const l=Se().subarray(i+o,i+r),c=Dn(e,l);o+=c.written,i=n(i,r,o,1)>>>0}return et=o,i}function Fn(e,t){try{return e.apply(this,t)}catch(n){p.__wbindgen_exn_store(j(n))}}const dt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>p.__wbg_exe_free(e>>>0));class Te{static __wrap(t){t=t>>>0;const n=Object.create(Te.prototype);return n.__wbg_ptr=t,dt.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,dt.unregister(this),t}free(){const t=this.__destroy_into_raw();p.__wbg_exe_free(t)}get images(){try{const i=p.__wbindgen_add_to_stack_pointer(-16);p.__wbg_get_exe_images(i,this.__wbg_ptr);var t=U()[i/4+0],n=U()[i/4+1],r=Un(t,n).slice();return p.__wbindgen_free(t,n*4,4),r}finally{p.__wbindgen_add_to_stack_pointer(16)}}static parse(t){try{const s=p.__wbindgen_add_to_stack_pointer(-16);p.exe_parse(s,fe(t));var n=U()[s/4+0],r=U()[s/4+1],i=U()[s/4+2];if(i)throw re(r);return Te.__wrap(n)}finally{p.__wbindgen_add_to_stack_pointer(16),M[z++]=void 0}}readImage(t,n){try{const s=p.__wbindgen_add_to_stack_pointer(-16);p.exe_readImage(s,this.__wbg_ptr,t,fe(n));var r=U()[s/4+0],i=U()[s/4+1];if(i)throw re(r)}finally{p.__wbindgen_add_to_stack_pointer(16),M[z++]=void 0}}patchColours(t){try{const i=p.__wbindgen_add_to_stack_pointer(-16);p.exe_patchColours(i,this.__wbg_ptr,fe(t));var n=U()[i/4+0],r=U()[i/4+1];if(r)throw re(n)}finally{p.__wbindgen_add_to_stack_pointer(16),M[z++]=void 0}}patchImage(t,n){try{const s=p.__wbindgen_add_to_stack_pointer(-16);p.exe_patchImage(s,this.__wbg_ptr,t,fe(n));var r=U()[s/4+0],i=U()[s/4+1];if(i)throw re(r)}finally{p.__wbindgen_add_to_stack_pointer(16),M[z++]=void 0}}finish(t){try{const n=this.__destroy_into_raw();p.exe_finish(n,fe(t))}finally{M[z++]=void 0}}}const gt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>p.__wbg_imageinfo_free(e>>>0));class He{static __wrap(t){t=t>>>0;const n=Object.create(He.prototype);return n.__wbg_ptr=t,gt.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,gt.unregister(this),t}free(){const t=this.__destroy_into_raw();p.__wbg_imageinfo_free(t)}get id(){return p.__wbg_get_imageinfo_id(this.__wbg_ptr)}set id(t){p.__wbg_set_imageinfo_id(this.__wbg_ptr,t)}get width(){return p.__wbg_get_imageinfo_width(this.__wbg_ptr)>>>0}set width(t){p.__wbg_set_imageinfo_width(this.__wbg_ptr,t)}get height(){return p.__wbg_get_imageinfo_height(this.__wbg_ptr)>>>0}set height(t){p.__wbg_set_imageinfo_height(this.__wbg_ptr,t)}get bpp(){return p.__wbg_get_imageinfo_bpp(this.__wbg_ptr)}set bpp(t){p.__wbg_set_imageinfo_bpp(this.__wbg_ptr,t)}}async function Vn(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function jt(){const e={};return e.wbg={},e.wbg.__wbg_imageinfo_new=function(t){const n=He.__wrap(t);return j(n)},e.wbg.__wbg_length_c20a40f15020d68a=function(t){return A(t).length},e.wbg.__wbindgen_memory=function(){const t=p.memory;return j(t)},e.wbg.__wbg_buffer_12d079cc21e14bdb=function(t){const n=A(t).buffer;return j(n)},e.wbg.__wbg_new_63b92bc8671ed464=function(t){const n=new Uint8Array(A(t));return j(n)},e.wbg.__wbindgen_object_drop_ref=function(t){re(t)},e.wbg.__wbg_set_a47bac70306a19a7=function(t,n,r){A(t).set(A(n),r>>>0)},e.wbg.__wbindgen_error_new=function(t,n){const r=new Error(Ae(t,n));return j(r)},e.wbg.__wbg_length_cbdddb61aff4bc24=function(t){return A(t).length},e.wbg.__wbg_newwithbyteoffsetandlength_a8a85013a437f95b=function(t,n,r){const i=new Uint8ClampedArray(A(t),n>>>0,r>>>0);return j(i)},e.wbg.__wbg_set_971b06ef901d0144=function(t,n,r){A(t).set(A(n),r>>>0)},e.wbg.__wbg_entries_ce844941d0c51880=function(t){const n=A(t).entries();return j(n)},e.wbg.__wbg_next_196c84450b364254=function(){return Fn(function(t){const n=A(t).next();return j(n)},arguments)},e.wbg.__wbg_done_298b57d23c0fc80c=function(t){return A(t).done},e.wbg.__wbg_value_d93c65011f51a456=function(t){const n=A(t).value;return j(n)},e.wbg.__wbindgen_is_array=function(t){return Array.isArray(A(t))},e.wbg.__wbg_from_89e3fc3ba5e6fb48=function(t){const n=Array.from(A(t));return j(n)},e.wbg.__wbg_length_cd7af8117672b8b8=function(t){return A(t).length},e.wbg.__wbg_at_c729a14f9fc27c62=function(t,n){const r=A(t).at(n);return j(r)},e.wbg.__wbindgen_number_get=function(t,n){const r=A(n),i=typeof r=="number"?r:void 0;Nn()[t/8+1]=ft(i)?0:i,U()[t/4+0]=!ft(i)},e.wbg.__wbindgen_string_new=function(t,n){const r=Ae(t,n);return j(r)},e.wbg.__wbg_warn_63bbae1730aead09=function(t){console.warn(A(t))},e.wbg.__wbg_new_9e7e1a3dd500a343=function(t){const n=new Uint8ClampedArray(A(t));return j(n)},e.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(t,n,r){const i=new Uint8Array(A(t),n>>>0,r>>>0);return j(i)},e.wbg.__wbg_new_abda76e883ba8a5f=function(){const t=new Error;return j(t)},e.wbg.__wbg_stack_658279fe44541cf6=function(t,n){const r=A(n).stack,i=Bn(r,p.__wbindgen_malloc,p.__wbindgen_realloc),s=et;U()[t/4+1]=s,U()[t/4+0]=i},e.wbg.__wbg_error_f851667af71bcfc6=function(t,n){let r,i;try{r=t,i=n,console.error(Ae(t,n))}finally{p.__wbindgen_free(r,i,1)}},e.wbg.__wbindgen_throw=function(t,n){throw new Error(Ae(t,n))},e}function Tt(e,t){return p=e.exports,Me.__wbindgen_wasm_module=t,he=null,_e=null,be=null,ge=null,p.__wbindgen_start(),p}function Hn(e){if(p!==void 0)return p;const t=jt();e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));const n=new WebAssembly.Instance(e,t);return Tt(n,e)}async function Me(e){if(p!==void 0)return p;const t=jt();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await Vn(await e,t);return Tt(n,r)}const Wn=Object.freeze(Object.defineProperty({__proto__:null,Exe:Te,ImageInfo:He,default:Me,initSync:Hn,start:Rn},Symbol.toStringTag,{value:"Module"})),qn="assets/custom_euroscope-OcDPlkhK.wasm",Kn=async(e={})=>{let{importHook:t,serverPath:n,initializeHook:r}=e,i=qn;return n!=null&&(i=n+/[^\/\\]*$/.exec(i)[0]),t!=null&&(i=t(i)),r!=null?await r(Me,i):await Me(i),Wn},Q=nt();async function Zn(){const[{Exe:e},t]=await Promise.all([Kn(),new Promise(r=>setTimeout(()=>r(null),1e3))]);return console.info("wasm loaded"),{load(r){this.buffer=r,this.exe=e.parse(r)}}}var Gn=_('<div class=icon><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24">'),zn=_('<svg><path d="M13.0001 7.82843V20H11.0001V7.82843L5.63614 13.1924L4.22192 11.7782L12.0001 4L19.7783 11.7782L18.3641 13.1924L13.0001 7.82843Z"></svg>',!1,!0),Yn=_('<svg><path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 7H13V9H11V7ZM11 11H13V17H11V11Z"></svg>',!1,!0),Xn=_('<svg><path d="M3 19H21V21H3V19ZM13 13.1716L19.0711 7.1005L20.4853 8.51472L12 17L3.51472 8.51472L4.92893 7.1005L11 13.1716V2H13V13.1716Z"></svg>',!1,!0),Jn=_('<svg><path d="M3 19H21V21H3V19ZM13 5.82843V17H11V5.82843L4.92893 11.8995L3.51472 10.4853L12 2L20.4853 10.4853L19.0711 11.8995L13 5.82843Z"></svg>',!1,!0),Qn=_('<svg><path d="M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"></svg>',!1,!0),er=_('<svg><path d="M18.364 5.63604L16.9497 7.05025C15.683 5.7835 13.933 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12H21C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C14.4853 3 16.7353 4.00736 18.364 5.63604Z"></svg>',!1,!0),tr=_('<svg><path d="M16.0503 12.0498L21 16.9996L16.0503 21.9493L14.636 20.5351L17.172 17.9988L4 17.9996V15.9996L17.172 15.9988L14.636 13.464L16.0503 12.0498ZM7.94975 2.0498L9.36396 3.46402L6.828 5.9988L20 5.99955V7.99955L6.828 7.9988L9.36396 10.5351L7.94975 11.9493L3 6.99955L7.94975 2.0498Z"></svg>',!1,!0),nr=_('<svg><path d="M18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z"></svg>',!1,!0);function J(e,t={}){return n=>{const[r,i]=ue(n,["large","fill"]);return(()=>{var s=Gn(),o=s.firstChild;return Ve(s,rt(()=>Object.assign(t,i)),!1,!0),$(o,d(Pt,{component:e})),N(l=>{var c=r.large?24:16,f=r.large?24:16,a=r.fill??"currentColor";return c!==l.e&&V(o,"width",l.e=c),f!==l.t&&V(o,"height",l.t=f),a!==l.a&&V(o,"fill",l.a=a),l},{e:void 0,t:void 0,a:void 0}),s})()}}function rr(e){return J(()=>zn(),{style:{transform:`rotate(${e}deg)`}})}const it=rr(90);function Mt(e){return J(()=>Yn(),{style:{transform:e?"scaleY(-100%)":""}})}const ir=Mt(),sr=Mt(!0),Nt=J(()=>Xn()),or=J(()=>Jn()),lr=J(()=>Qn()),cr=J(()=>er()),ht=J(()=>tr()),ar=J(()=>nr());var ur=_("<div><div class=alert-header><h2>");function Y(e){const[t,n]=ue(e,["type","children"]);return(()=>{var r=ur(),i=r.firstChild,s=i.firstChild;return Ve(r,rt({get classList(){return{alert:!0,info:t.type=="info",caut:t.type=="caut",warn:t.type=="warn"}}},n),!1,!0),$(i,d(Pt,{get component(){return t.type=="info"?ir:sr},large:!0}),s),$(s,()=>({info:"Information",caut:"Caution",warn:"Warning"})[t.type]),$(r,()=>t.children,null),r})()}var fr=_("<button>");function F(e){const[t,n]=ue(e,["primary","compact","square","children"]);return(()=>{var r=fr();return Ve(r,rt({get classList(){return{button:!0,primary:t.primary,compact:t.compact,square:t.square}}},n),!1,!0),$(r,()=>t.children),r})()}var dr=_("<div class=throbber>");function xe(e){return(()=>{var t=dr();return $(t,d(cr,e)),t})()}var gr=_("<div class=box><p>This app will patch a EuroScope binary to make customisations. To maintain this editing ability across EuroScope versions without distributing the EuroScope binary itself, the patching is done dynamically on a binary uploaded here."),hr=_("<p>By the magic of WebAssembly, all of the processing happens locally within your web browser, and your uploaded files will not leave your computer."),_r=_("<p>You must upload an original copy of EuroScope, not a binary that has already been patched with this app or any similar tool."),br=_("<p>Use of this app constitutes violation of the EuroScope EULA."),wr=_('<div class="box spaced"><h2>Select EuroScope.exe</h2><input type=file accept=.exe>'),pr=_("<span>Continue"),yr=_('<div class="box prev-next-row">');function mr(e){const t=K(Q),[n,r]=E(!1);let i;const s=async()=>{var o;if((o=i.files)!=null&&o.length){r(!0);{const l=await i.files.item(0).arrayBuffer();t().load(new Uint8Array(l))}r(!1),e.nextPage()}};return[gr(),d(Y,{type:"info",get children(){return hr()}}),d(Y,{type:"caut",get children(){return _r()}}),d(Y,{type:"caut",get children(){return br()}}),(()=>{var o=wr(),l=o.firstChild,c=l.nextSibling,f=i;return typeof f=="function"?ce(f,c):i=c,o})(),(()=>{var o=yr();return $(o,d(F,{onClick:()=>!n()&&s(),primary:!0,get children(){return d(le,{get when(){return!n()},get fallback(){return d(xe,{})},get children(){return[pr(),d(it,{})]}})}})),o})()]}const tt=Symbol("store-raw"),se=Symbol("store-node"),q=Symbol("store-has"),It=Symbol("store-self");function Ut(e){let t=e[W];if(!t&&(Object.defineProperty(e,W,{value:t=new Proxy(e,xr)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,s=n.length;i<s;i++){const o=n[i];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function Ne(e){let t;return e!=null&&typeof e=="object"&&(e[W]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ve(e,t=new Set){let n,r,i,s;if(n=e!=null&&e[tt])return n;if(!Ne(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,l=e.length;o<l;o++)i=e[o],(r=ve(i,t))!==i&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let c=0,f=o.length;c<f;c++)s=o[c],!l[s].get&&(i=e[s],(r=ve(i,t))!==i&&(e[s]=r))}return e}function Ie(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function $e(e,t,n){if(e[t])return e[t];const[r,i]=E(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function vr(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===W||t===se||(delete n.value,delete n.writable,n.get=()=>e[W][t]),n}function Rt(e){Ye()&&$e(Ie(e,se),It)()}function $r(e){return Rt(e),Reflect.ownKeys(e)}const xr={get(e,t,n){if(t===tt)return e;if(t===W)return n;if(t===Ge)return Rt(e),n;const r=Ie(e,se),i=r[t];let s=i?i():e[t];if(t===se||t===q||t==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(e,t);Ye()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(s=$e(r,t,s)())}return Ne(s)?Ut(s):s},has(e,t){return t===tt||t===W||t===Ge||t===se||t===q||t==="__proto__"?!0:(Ye()&&$e(Ie(e,q),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:$r,getOwnPropertyDescriptor:vr};function Ue(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],s=e.length;n===void 0?(delete e[t],e[q]&&e[q][t]&&i!==void 0&&e[q][t].$()):(e[t]=n,e[q]&&e[q][t]&&i===void 0&&e[q][t].$());let o=Ie(e,se),l;if((l=$e(o,t,i))&&l.$(()=>n),Array.isArray(e)&&e.length!==s){for(let c=e.length;c<s;c++)(l=o[c])&&l.$();(l=$e(o,"length",s))&&l.$(e.length)}(l=o[It])&&l.$()}function Dt(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Ue(e,i,t[i])}}function Cr(e,t){if(typeof t=="function"&&(t=t(e)),t=ve(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Ue(e,n,i)}Ue(e,"length",r)}else Dt(e,t)}function we(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const o=typeof r,l=Array.isArray(e);if(Array.isArray(r)){for(let c=0;c<r.length;c++)we(e,[r[c]].concat(t),n);return}else if(l&&o==="function"){for(let c=0;c<e.length;c++)r(e[c],c)&&we(e,[c].concat(t),n);return}else if(l&&o==="object"){const{from:c=0,to:f=e.length-1,by:a=1}=r;for(let u=c;u<=f;u+=a)we(e,[u].concat(t),n);return}else if(t.length>1){we(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let s=t[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=ve(s),r===void 0||Ne(i)&&Ne(s)&&!Array.isArray(s)?Dt(i,s):Ue(e,r,s))}function Bt(...[e,t]){const n=ve(e||{}),r=Array.isArray(n),i=Ut(n);function s(...o){Zt(()=>{r&&o.length===1?Cr(n,o[0]):we(n,o)})}return[i,s]}var Ar=_("<div class=row><input type=color class=eyedrop-input><span>");function Sr(e){return"#"+e.toString(16).padStart(6,"0")}function Lr(e){return parseInt(e.substring(1),16)}function kr(e){const[t,n]=ue(e,["label","value","onChange"]);let r;return(()=>{var i=Ar(),s=i.firstChild,o=s.nextSibling;s.$$input=c=>t.onChange(Lr(r.value));var l=r;return typeof l=="function"?ce(l,s):r=s,$(o,()=>t.label),N(()=>s.value=Sr(t.value)),i})()}Fe(["input"]);var Or=_("<div class=box><p>Pick new colours for your scope."),Pr=_("<p>You cannot change the colour of primary text and icons; this must be white."),Er=_('<div class="box spaced"><h2>Base theme</h2><select>'),jr=_('<div class="box spaced"><h2>Customise'),Tr=_('<div class="box spaced"><h2>Preview</h2><div class=page2-preview><div><div><div>Primary</div></div></div><div><div><div>Secondary'),Mr=_("<span>Continue"),Nr=_('<div class="box prev-next-row">'),Ir=_("<option>");const Ft=[336412,536616,737590,1072975,8231572,16744512],Ur=["Backdrop darkest","Backdrop darker","Backdrop main","Backdrop lighter","Backdrop lightest","Foreground secondary"],_t=new Map([["EuroScope",[336412,536616,737590,1072975,8231572,16744512]],["Grey",[0,1250067,2500134,4934475,7171437,16744512]],["Primer",[856343,1448738,2172461,3159613,4738904,3705853]],["Ayu",[988185,1317151,1646374,3229017,6055795,3780567]],["Solarised",[0,11062,472642,5795445,6650755,11897088]]]);function Rr(e){return new Map(e.map((t,n)=>[Ft[n],t]))}function Dr(e){const t=K(Q),[n,r]=E(!1),[i,s]=Bt({swatch:Ft}),o=c=>"#"+c.toString(16).padStart(6,"0"),l=async c=>{r(!0);{const f=Rr(c);t().exe.patchColours(f),t().map=c.map(o)}r(!1),e.nextPage()};return[Or(),d(Y,{type:"info",get children(){return Pr()}}),(()=>{var c=Er(),f=c.firstChild,a=f.nextSibling;return a.$$input=({currentTarget:u})=>{s({swatch:_t.get(u.value)})},$(a,d(je,{get each(){return Array.from(_t.keys())},children:u=>(()=>{var g=Ir();return $(g,u),g})()})),c})(),(()=>{var c=jr();return c.firstChild,$(c,d(je,{get each(){return i.swatch},children:(f,a)=>d(kr,{get label(){return Ur[a()]},value:f,onChange:u=>s("swatch",a(),u)})}),null),c})(),(()=>{var c=Tr(),f=c.firstChild,a=f.nextSibling;return a.style.setProperty("--es-fg1","white"),N(u=>{var g=o(i.swatch[0]),b=o(i.swatch[1]),h=o(i.swatch[2]),w=o(i.swatch[3]),m=o(i.swatch[4]),v=o(i.swatch[5]);return g!==u.e&&((u.e=g)!=null?a.style.setProperty("--es-bg1",g):a.style.removeProperty("--es-bg1")),b!==u.t&&((u.t=b)!=null?a.style.setProperty("--es-bg2",b):a.style.removeProperty("--es-bg2")),h!==u.a&&((u.a=h)!=null?a.style.setProperty("--es-bg3",h):a.style.removeProperty("--es-bg3")),w!==u.o&&((u.o=w)!=null?a.style.setProperty("--es-bg4",w):a.style.removeProperty("--es-bg4")),m!==u.i&&((u.i=m)!=null?a.style.setProperty("--es-bg5",m):a.style.removeProperty("--es-bg5")),v!==u.n&&((u.n=v)!=null?a.style.setProperty("--es-fg2",v):a.style.removeProperty("--es-fg2")),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),c})(),(()=>{var c=Nr();return $(c,d(F,{onClick:()=>!n()&&l(i.swatch),primary:!0,get children(){return d(le,{get when(){return!n()},get fallback(){return d(xe,{})},get children(){return[Mr(),d(it,{})]}})}})),c})()]}Fe(["input"]);const bt="http://19wintersp.github.io/custom-euroscope/theme";async function Br(e,t){const n=new DOMParser().parseFromString(e,"text/xml"),r=n.documentElement;if(n.querySelector("parsererror"))return console.error("svg parser error"),null;const i=parseInt(r.getAttribute("width"),10),s=parseInt(r.getAttribute("height"),10);r.getAttribute("viewBox")!=`0 0 ${i} ${s}`&&console.warn("bad viewbox");const o=new OffscreenCanvas(i,s),l=o.getContext("2d");for(const c of Array.from(r.children))c.localName=="path"&&(l.fillStyle=c.hasAttributeNS(bt,"fill")?t[c.getAttributeNS(bt,"fill")]:c.getAttribute("fill"),l.globalAlpha=c.hasAttribute("opacity")?parseFloat(c.getAttribute("opacity")):1,l.fill(new Path2D(c.getAttribute("d")),c.getAttribute("fill-rule")??void 0));return URL.createObjectURL(await o.convertToBlob())}var Fr=_("<div class=box><p>The EuroScope executable contains many embedded bitmaps which are used for buttons and other UI components. To update these icons to match the new colours, choose one of the base icon sets below."),Vr=_("<p>An icon set which looks more like the original EuroScope icons is coming soon. (maybe)"),Hr=_('<p>Please wait for a few seconds after selecting a new icon set to allow the icons to render before pressing "Continue".'),Wr=_('<div class="box spaced"><h2>Base icon set</h2><select><option value=none>None (keep as-is)</option><option value=vector>Vector'),qr=_("<span>Show advanced options"),Kr=_("<div class=page3-customise-box><h2>Customise</h2><div></div><div class=page3-customise-col>"),Zr=_("<span>Continue"),Gr=_('<div class="box prev-next-row">'),zr=_("<div class=page3-customise><div class=page3-customise-thumb><img></div><h3>Bitmap </h3><p>×<!> @ <!>bpp</p><div>"),Yr=_("<img>"),Xr=_("<span>Show new"),Jr=_("<span>Download"),Qr=_("<a class=hide>"),ei=_("<span>Show old"),ti=_("<span>Upload"),ni=_("<span>Reset"),ri=_("<input class=hide type=file accept=image/*>"),ii=_("<div class=page3-customise-expanded><div></div><div>");function si(e){const t=K(Q),[n,r]=E(!1),[i,s]=E(!1),[o,l]=E("none"),[c,f]=Bt({}),a=async()=>{r(!0);for(const[u,g]of Object.entries(c)){if(!g)continue;const b=new Image;await new Promise(x=>{b.addEventListener("load",()=>x(0)),b.src=g});const h=await createImageBitmap(b),w=new OffscreenCanvas(h.width,h.height),m=w.getContext("2d");m.drawImage(b,0,0);const v=m.getImageData(0,0,w.width,w.height);t().exe.patchImage(parseInt(u,10),v.data)}r(!1),e.nextPage()};return[Fr(),d(Y,{type:"info",get children(){return Vr()}}),d(Y,{type:"warn",get children(){return Hr()}}),(()=>{var u=Wr(),g=u.firstChild,b=g.nextSibling;return b.$$input=({currentTarget:h})=>l(h.value),u})(),(()=>{var u=Kr(),g=u.firstChild,b=g.nextSibling,h=b.nextSibling;return $(b,d(F,{onClick:()=>s(!0),get children(){return qr()}})),$(h,d(je,{get each(){return t().exe.images},children:w=>d(oi,{image:w,theme:o,update:m=>f(w.id.toString(),m)})})),N(w=>{var m=!!i(),v=!i();return m!==w.e&&b.classList.toggle("hide",w.e=m),v!==w.t&&h.classList.toggle("hide",w.t=v),w},{e:void 0,t:void 0}),u})(),(()=>{var u=Gr();return $(u,d(F,{onClick:()=>!n()&&a(),primary:!0,get children(){return d(le,{get when(){return!n()},get fallback(){return d(xe,{})},get children(){return[Zr(),d(it,{})]}})}})),u})()]}function oi(e){const[t,n]=E(!1),[r,i]=E(!1),[s,o]=E(null),[l]=ze(async(u,g)=>{g.value&&URL.revokeObjectURL(g.value);const b=K(Q),h=new Uint8ClampedArray(e.image.width*e.image.height*4);b().exe.readImage(e.image.id,h);const w=new ImageData(h,e.image.width),m=await createImageBitmap(w),v=new OffscreenCanvas(e.image.width,e.image.height),x=v.getContext("bitmaprenderer");x==null||x.transferFromImageBitmap(m);const k=await v.convertToBlob();return URL.createObjectURL(k)}),[c]=ze(e.theme,async(u,g)=>{if(g.value&&(console.log("revoke"),URL.revokeObjectURL(g.value)),u=="none")return null;{const b=K(Q),h=await fetch(`bitmap/${u}/${e.image.id}.svg`);return h.ok?await Br(await h.text(),{bg1:b().map[0],bg2:b().map[1],bg3:b().map[2],bg4:b().map[3],bg5:b().map[4],fg1:"white",fg2:b().map[5]}):(h.status!=404&&console.warn("broken request"),null)}});qt(()=>{s()?e.update(s()):c()!==void 0&&e.update(c())});let f,a;return[(()=>{var u=zr(),g=u.firstChild,b=g.firstChild,h=g.nextSibling;h.firstChild;var w=h.nextSibling,m=w.firstChild,v=m.nextSibling,x=v.nextSibling,k=x.nextSibling;k.nextSibling;var I=w.nextSibling;return $(h,()=>e.image.id,null),$(w,()=>e.image.width,m),$(w,()=>e.image.height,v),$(w,()=>e.image.bpp,k),$(I,d(F,{onClick:()=>n(B=>!B),get style(){return{transform:t()?"scaleY(-1)":""}},compact:!0,square:!0,get children(){return d(lr,{})}})),N(()=>V(b,"src",l())),u})(),d(le,{get when(){return t()},get children(){var u=ii(),g=u.firstChild,b=g.nextSibling;return $(g,d(Ot,{get fallback(){return d(xe,{})},get children(){var h=Yr();return N(()=>V(h,"src",r()?l():s()??c()??l())),h}})),$(b,d(kt,{get children(){return[d(ne,{get when(){return r()},get children(){return[d(F,{onClick:()=>i(!1),get children(){return[d(ht,{}),Xr()]}}),d(F,{onClick:()=>f.click(),get children(){return[d(Nt,{}),Jr()]}}),(()=>{var h=Qr(),w=f;return typeof w=="function"?ce(w,h):f=h,N(m=>{var v=l(),x=`${e.image.id}.png`;return v!==m.e&&V(h,"href",m.e=v),x!==m.t&&V(h,"download",m.t=x),m},{e:void 0,t:void 0}),h})()]}}),d(ne,{get when(){return!r()},get children(){return[d(F,{onClick:()=>i(!0),get children(){return[d(ht,{}),ei()]}}),d(F,{onClick:()=>a.click(),get children(){return[d(or,{}),ti()]}}),d(le,{get when(){return s()},get children(){return d(F,{onClick:()=>o(h=>(h&&URL.revokeObjectURL(h),null)),get children(){return[d(ar,{}),ni()]}})}}),(()=>{var h=ri();h.addEventListener("change",()=>{if(a.files.length){const m=a.files.item(0);o(URL.createObjectURL(m))}});var w=a;return typeof w=="function"?ce(w,h):a=h,h})()]}})]}})),u}})]}Fe(["input"]);var li=_("<div class=box><p>Once downloaded, simply replace your current EuroScope.exe file with the new one."),ci=_("<p>In case of any potential issue, it is a good idea to keep a backup of the original EuroScope executable under a different name, so that it can be restored."),ai=_("<p>If you wish to share your modified EuroScope with others, you can either directly share the new binary or create a binary diff against the original."),ui=_("<span>Download"),fi=_('<div class="box prev-next-row"><a class=hide download=EuroScope.exe>');function di(){const e=K(Q),t=e().buffer;e().exe.finish(t);const n=URL.createObjectURL(new Blob([t]));let r;return[li(),d(Y,{type:"caut",get children(){return ci()}}),d(Y,{type:"info",get children(){return ai()}}),(()=>{var i=fi(),s=i.firstChild;$(i,d(F,{onClick:()=>r.click(),primary:!0,get children(){return[d(Nt,{}),ui()]}}),s);var o=r;return typeof o=="function"?ce(o,s):r=s,V(s,"href",n),i})()]}var gi=_("<span class=hide>");function hi(){const[e]=ze(i=>Zn()),[t,n]=E(0),r=()=>n(t()+1);return[(()=>{var i=gi();return $(i,()=>{var s;return(s=e())==null?void 0:s.load.name}),i})(),d(Q.Provider,{value:e,get children(){return[d(Tn,{stages:["Upload EuroScope executable","Update theme colours","Update embedded bitmaps","Download new executable"],get current(){return t()}}),d(kt,{get children(){return[d(ne,{get when(){return t()==0},get children(){return d(mr,{nextPage:r})}}),d(ne,{get when(){return t()==1},get children(){return d(Dr,{nextPage:r})}}),d(ne,{get when(){return t()==2},get children(){return d(si,{nextPage:r})}}),d(ne,{get when(){return t()==3},get children(){return d(di,{})}})]}})]}})]}var _i=_("<div class=solitary>");bn(()=>d(Ot,{get fallback(){return(()=>{var e=_i();return $(e,d(xe,{large:!0})),e})()},get children(){return d(hi,{})}}),document.getElementById("root"));
